import{G as R,P as h,O as j,e as z,i as M,D as A,g as S,B as I,C as V,j as T,k as U,V as q,S as F,W as N,A as $,b as J}from"./stats.module.c456474f.js";import{O as K}from"./OrbitControls.ff4b382f.js";import{d as Q,g as b,h as X,c as Y,f as P,o as Z}from"./index.b9f501be.js";const ee={class:"viewCon"},we=Q({__name:"07-both-cameras",setup(te){const{random:ne,PI:E,floor:oe,ceil:ae,min:ie,max:se,sin:re,cos:ce}=Math,C=b(),m=b();let s=window.innerWidth,r=window.innerHeight,f,l,o,t,n,c;X(()=>{y(),L(),W(),H(),_()});const p={switchCamera:()=>{},perspective:"Perspective"};function H(){var a;let e=new R({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(a=m.value)==null||a.appendChild(e.domElement),e.add(p,"switchCamera").onChange(()=>{t instanceof h?(t=new j(window.innerWidth/-16,window.innerWidth/16,window.innerHeight/16,window.innerHeight/-16,-200,500),u(),p.perspective="Orthographic"):(t=new h(45,s/r,1,1e3),u(),p.perspective="Perspective"),e.__controllers.forEach(d=>d.updateDisplay())}),e.add(p,"perspective")}function L(){const e=new z(180,180,1,1),a=new M({color:16777215,side:A});c=new S(e,a),c.receiveShadow=!0,c.rotation.x=-.5*E,c.position.set(0,0,0),o.add(c);const d=new I(4,4,4),{width:i,height:w}=e.parameters;for(let v=0;v<i/5;v++)for(let g=0;g<w/5;g++){const k=Math.random()*.75+.25,B=new V(k,0,0),D=new M({color:B}),x=new S(d,D);x.position.set(v*5-i/2+2,2,g*5-w/2+2),o.add(x)}}function W(){G(-120,50,-0)}function G(e,a,d){const i=new T(16777215);i.position.set(e,a,d),i.castShadow=!0;const w=new U(i);o.add(w),o.add(i)}function _(){requestAnimationFrame(_),f.update(),n.render(o,t)}function u(){l=new K(t,n.domElement),l.target=new q(0,0,0),l.object.position.set(-150,50,150),l.update()}function y(){o=new F,t=new h(45,s/r,1,1e3),n=new N({canvas:C.value,antialias:!0}),n.setClearColor(4473924,1),n.setSize(s,r),n.shadowMap.enabled=!0,n.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",O),o.add(new $(1e3)),f=J(),m.value.append(f.dom),u()}function O(){s=window.innerWidth,r=window.innerHeight,t instanceof h&&(t.aspect=s/r,t.updateProjectionMatrix()),n.setSize(s,r)}return(e,a)=>(Z(),Y("div",ee,[P("div",{class:"canvasCon",ref_key:"canvasCon",ref:m},[P("canvas",{class:"canvas",ref_key:"canvasDom",ref:C},null,512)],512)]))}});export{we as default};
