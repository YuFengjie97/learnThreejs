import{G as j,T as O,R as M,c as U,f as b,d as L,B as N,e as $,H as J,q as K,o as Q,p as X,S as Y,F as Z,P as ee,W as te,C as oe,A as ae,b as ne,O as se,V as re}from"./OrbitControls.9b659d00.js";import{t as ie}from"./grasslight-big.a424f278.js";import{d as de,g as P,h as le,c as ce,f as k,o as pe}from"./index.28f061d6.js";const he={class:"viewCon"},xe=de({__name:"05-hemisphere-light",setup(we){const{random:me,PI:z,floor:ue,ceil:ge,min:Ce,max:fe,sin:E,cos:W,sqrt:ye,abs:B}=Math,G=P(),H=P();let h=window.innerWidth,w=window.innerHeight,S,f,o,m,s,r,l,e,u,g,i,c;le(()=>{F(),I(),R(),T(),_()});const y={rotationSpeed:.02,bouncingSpeed:.03},d={showHelper:!0,skyColor:623843,groundColor:47252,intensity:2},C={showHelper:!0,color:16777215,intensity:2};function F(){var v;let a=new j({autoPlace:!1,width:300});a.domElement.style.cssText="position: fixed; top: 0; right: 0;",(v=H.value)==null||v.appendChild(a.domElement);const n=a.addFolder("HemisphereLight");n.open(),n.add(d,"showHelper").onChange(t=>{l.visible=t}),n.addColor(d,"skyColor").onChange(t=>{r.color.setHex(t),l.update()}),n.addColor(d,"groundColor").onChange(t=>{r.groundColor.setHex(t),l.update()}),n.add(d,"intensity",0,4,.1).onChange(t=>{r.intensity=t,l.update()});const p=a.addFolder("dirLight");p.open(),p.add(C,"showHelper").onChange(t=>{u.visible=t}),p.addColor(C,"color").onChange(t=>{e.color.setHex(t),u.update()}),p.add(C,"intensity",0,4,.1).onChange(t=>{e.intensity=t,u.update()})}function R(){const a=new O().load(ie);a.wrapS=M,a.wrapT=M,a.repeat.set(4,4);const n=new U(1e3,200,20,20),p=new b({map:a});g=new L(n,p),o.add(g),g.receiveShadow=!0,g.rotation.x=-.5*z;const v=new N(4,4,4),t=new b({color:16632686});i=new L(v,t),i.castShadow=!0,i.position.set(-10,4,0),o.add(i);const A=new $(4),V=new b({color:16632686});c=new L(A,V),c.castShadow=!0,c.position.y=2,o.add(c)}function T(){r=new J(d.skyColor,d.groundColor,d.intensity),r.position.set(0,100,0),l=new K(r,100),o.add(r),o.add(l),e=new Q(C.color,C.intensity),e.position.set(0,40,-100),e.castShadow=!0,e.target=g,e.shadow.camera.near=.1,e.shadow.camera.far=200,e.shadow.camera.left=-50,e.shadow.camera.right=50,e.shadow.camera.top=50,e.shadow.camera.bottom=-50,e.shadow.mapSize.width=2048,e.shadow.mapSize.height=2048,u=new X(e,100),o.add(e),o.add(u)}let x=0;function D(){i.rotation.x+=y.rotationSpeed,i.rotation.y+=y.rotationSpeed,i.rotation.z+=y.rotationSpeed,x+=y.bouncingSpeed,c.position.x=20+10*W(x),c.position.y=2+10*B(E(x))}function _(){requestAnimationFrame(_),S.update(),D(),s.render(o,m)}function I(){o=new Y,o.fog=new Z(11184810,.01,200),m=new ee(75,h/w,1,1e3),s=new te({canvas:G.value,antialias:!0}),s.setClearColor(new oe(11184895)),s.setSize(h,w),s.shadowMap.enabled=!0,window.addEventListener("resize",q),o.add(new ae(1e3)),S=ne(),H.value.append(S.dom),f=new se(m,s.domElement),f.target=new re(10,0,0),f.object.position.set(-20,15,45),f.update()}function q(){h=window.innerWidth,w=window.innerHeight,m.aspect=h/w,m.updateProjectionMatrix(),s.setSize(h,w)}return(a,n)=>(pe(),ce("div",he,[k("div",{class:"canvasCon",ref_key:"canvasCon",ref:H},[k("canvas",{class:"canvas",ref_key:"canvasDom",ref:G},null,512)],512)]))}});export{xe as default};
