import{G as H,n as O,ad as F,a9 as N,D as R,f as U,m as V,l as j,X as J,J as X,ae as $,af as K,ag as b,S as Q,C as Y,P as Z,W as ee,A as te,b as ae,V as ne}from"./stats.module.a3b3754b.js";import{O as se}from"./OrbitControls.3858a42c.js";import{c as oe}from"./SceneUtils.e707d788.js";import{d as ie,g as E,h as re,c as ce,f as T,o as le}from"./index.ea266fd6.js";const de={class:"viewCon"},ge=ie({__name:"03-basic-2d-geometries-shape",setup(ue){const{random:pe,PI:B,floor:he,ceil:me,min:fe,max:we,sin:ve,cos:Se}=Math,y=E(),v=E();let r=window.innerWidth,c=window.innerHeight,S,h,l,d,u,m,C,f;const w=new Float32Array(408);let o;re(()=>{q(),I(),G(),x()});const p={rotateSpeed:.01,showShape:!0,divisions:10};function G(){var a;let e=new H({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(a=v.value)==null||a.appendChild(e.domElement),e.add(p,"rotateSpeed",0,2,.01),e.add(p,"showShape").onChange(t=>{C.visible=t,f.visible=!t}),e.add(p,"divisions",1,20,1).onChange(t=>{P(m,t)})}let z=0;function A(){o.rotation.y=z+=p.rotateSpeed}function I(){o=new O,o.rotation.z=B,l.add(o),m=W(),C=L(),f=k(m)}let M=.1;function L(e){const a=new F(m),t=new N({side:R}),n=new U({wireframe:!0}),i=oe(a,[n,t]);return i.scale.multiplyScalar(M),g(i),o.add(i),i}function k(e){P(e,p.divisions);const a=new V().setAttribute("position",new j(w,2)),t=new J({color:16724787}),n=new X(a,t);return n.scale.multiplyScalar(M),g(n),o.add(n),n.visible=!1,n}function g(e){new $().setFromObject(e).getCenter(e.position),e.position.multiplyScalar(-1)}function P(e,a){let t=[];const{shape:n,holes:i}=e.extractPoints(a);t.push(...n),i.forEach(s=>{t.push(...s)}),t.forEach((s,_)=>{w[_*2]=s.x,w[_*2+1]=s.y});for(let s=t.length*2;s<408;s++)w[s]=0;f&&(f.geometry.attributes.position.needsUpdate=!0)}function W(){const e=new K().moveTo(80,40).absarc(40,40,40,0,Math.PI*2,!1),a=new b().moveTo(35,20).absellipse(25,20,10,10,0,Math.PI*2,!0,0),t=new b().moveTo(65,20).absarc(55,20,10,0,Math.PI*2,!0),n=new b().moveTo(20,40).quadraticCurveTo(40,60,60,40).bezierCurveTo(70,45,70,50,60,60).quadraticCurveTo(40,80,20,60).quadraticCurveTo(5,50,20,40);return e.holes.push(a),e.holes.push(t),e.holes.push(n),e}function q(){l=new Q,l.background=new Y(16777215),d=new Z(75,r/c,1,1e3),u=new ee({canvas:y.value,antialias:!0}),u.setSize(r,c),window.addEventListener("resize",D),l.add(new te(1e3)),S=ae(),v.value.append(S.dom),h=new se(d,u.domElement),h.target=new ne(0,0,0),h.object.position.set(0,3,20),h.update()}function x(){requestAnimationFrame(x),S.update(),A(),u.render(l,d)}function D(){r=window.innerWidth,c=window.innerHeight,d.aspect=r/c,d.updateProjectionMatrix(),u.setSize(r,c)}return(e,a)=>(le(),ce("div",de,[T("div",{class:"canvasCon",ref_key:"canvasCon",ref:v},[T("canvas",{class:"canvas",ref_key:"canvasDom",ref:y},null,512)],512)]))}});export{ge as default};
