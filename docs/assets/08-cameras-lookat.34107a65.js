import{G as V,P as m,O as T,e as U,i as _,D as q,g as x,B as F,C as N,h as $,j as J,k as K,V as Q,S as X,W as Y,A as Z,b as ee}from"./stats.module.c456474f.js";import{O as te}from"./OrbitControls.ff4b382f.js";import{d as ne,g as G,h as oe,c as ae,f as k,o as ie}from"./index.b9f501be.js";const se={class:"viewCon"},ve=ne({__name:"08-cameras-lookat",setup(re){const{random:ce,PI:E,floor:de,ceil:le,min:pe,max:we,sin:H,cos:he}=Math,M=G(),f=G();let s=window.innerWidth,r=window.innerHeight,u,c,n,t,o,d,l;oe(()=>{B(),W(),y(),L(),P()});const w={switchCamera:()=>{},perspective:"Perspective"};function L(){var a;let e=new V({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(a=f.value)==null||a.appendChild(e.domElement),e.add(w,"switchCamera").onChange(()=>{t instanceof m?(t=new T(window.innerWidth/-16,window.innerWidth/16,window.innerHeight/16,window.innerHeight/-16,-200,500),v(),w.perspective="Orthographic"):(t=new m(45,s/r,1,1e3),v(),w.perspective="Perspective"),e.__controllers.forEach(p=>p.updateDisplay())}),e.add(w,"perspective")}function W(){const e=new U(180,180,1,1),a=new _({color:16777215,side:q});d=new x(e,a),d.receiveShadow=!0,d.rotation.x=-.5*E,d.position.set(0,0,0),n.add(d);const p=new F(4,4,4),{width:i,height:h}=e.parameters;for(let g=0;g<i/5;g++)for(let C=0;C<h/5;C++){const j=Math.random()*.75+.25,z=new N(j,0,0),I=new _({color:z}),b=new x(p,I);b.position.set(g*5-i/2+2,2,C*5-h/2+2),n.add(b)}const R=new $(2);l=new x(R,new _({color:16632686})),l.position.set(0,10,0),n.add(l)}function y(){O(-120,50,-0)}function O(e,a,p){const i=new J(16777215);i.position.set(e,a,p),i.castShadow=!0;const h=new K(i);n.add(h),n.add(i)}let S=0;function A(){S+=.02;let e=10+100*H(S);l.position.x=e,c.target=l.position,c.update()}function P(){requestAnimationFrame(P),u.update(),A(),o.render(n,t)}function v(){c=new te(t,o.domElement),c.target=new Q(0,0,0),c.object.position.set(-150,50,150),c.update()}function B(){n=new X,t=new m(45,s/r,1,1e3),o=new Y({canvas:M.value,antialias:!0}),o.setClearColor(4473924,1),o.setSize(s,r),o.shadowMap.enabled=!0,o.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",D),n.add(new Z(1e3)),u=ee(),f.value.append(u.dom),v()}function D(){s=window.innerWidth,r=window.innerHeight,t instanceof m&&(t.aspect=s/r,t.updateProjectionMatrix()),o.setSize(s,r)}return(e,a)=>(ie(),ae("div",se,[k("div",{class:"canvasCon",ref_key:"canvasCon",ref:f},[k("canvas",{class:"canvas",ref_key:"canvasDom",ref:M},null,512)],512)]))}});export{ve as default};
