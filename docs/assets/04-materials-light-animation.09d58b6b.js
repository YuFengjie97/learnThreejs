import{G as z,c as B,f as u,d as f,B as H,e as W,g as A,h as I,S as R,C as V,P as D,W as O,A as T,b as U,O as q,V as F}from"./OrbitControls.1ec48726.js";import{d as N,g as M,h as $,c as J,f as g,o as K}from"./index.51241014.js";const Q={class:"viewCon"},re=N({__name:"04-materials-light-animation",setup(X){const{random:Y,PI:b,floor:Z,ceil:ee,min:te,max:ne,sin:ae,cos:oe}=Math,S=M(),p=M();let r=window.innerWidth,d=window.innerHeight,w,l,t,c,o,n,s;$(()=>{_(),y(),x(),C(),v()});const i={rotateSpeed:.02,jumpSpeed:.04};function _(){var a;let e=new z({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(a=p.value)==null||a.appendChild(e.domElement),e.add(i,"rotateSpeed",0,1,.01),e.add(i,"jumpSpeed",0,1,.01)}function x(){const e=new B(60,20,1,1),a=new u({color:13421772}),m=new f(e,a);m.rotation.x=-.5*b,m.receiveShadow=!0,t.add(m);const L=new H(4,4,4),P=new u({color:16711680,wireframe:!1});n=new f(L,P),n.position.set(-14,2,0),n.castShadow=!0,t.add(n);const j=new W(4),k=new u({color:7829503,wireframe:!1});s=new f(j,k),s.position.set(4,4,0),s.castShadow=!0,t.add(s)}function C(){const e=new A(16777215);e.position.set(-20,10,0),e.castShadow=!0;const a=new I(e);t.add(a),t.add(e)}let h=0;function G(){n.rotation.x+=i.rotateSpeed,n.rotation.y+=i.rotateSpeed,n.rotation.z+=i.rotateSpeed,h+=i.jumpSpeed,s.position.x=5+10*Math.cos(h),s.position.y=2+6*Math.abs(Math.sin(h))}function v(){requestAnimationFrame(v),w.update(),G(),o.render(t,c)}function y(){t=new R,t.background=new V(4473924),c=new D(75,r/d,1,1e3),o=new O({canvas:S.value,antialias:!0}),o.setSize(r,d),o.shadowMap.enabled=!0,window.addEventListener("resize",E),t.add(new T(1e3)),w=U(),p.value.append(w.dom),l=new q(c,o.domElement),l.target=new F(0,0,0),l.object.position.set(0,20,20),l.update()}function E(){r=window.innerWidth,d=window.innerHeight,c.aspect=r/d,c.updateProjectionMatrix(),o.setSize(r,d)}return(e,a)=>(K(),J("div",Q,[g("div",{class:"canvasCon",ref_key:"canvasCon",ref:p},[g("canvas",{class:"canvas",ref_key:"canvasDom",ref:S},null,512)],512)]))}});export{re as default};
