import{i as V,d as C,G as F,j as L,c as I,f as P,D as A,k as O,M as U,g as $,h as T,S as q,P as N,W as J,A as K,b as Q,O as X,V as Y}from"./OrbitControls.1ec48726.js";import{d as Z,g as B,h as ee,c as te,f as j,o as ne}from"./index.51241014.js";function oe(S,v){const w=new V;for(let f=0,_=v.length;f<_;f++)w.add(new C(S,v[f]));return w}const ae={class:"viewCon"},pe=Z({__name:"05-custom-geometry",setup(S){const{random:v,PI:w,floor:f,ceil:_,min:se,max:ie,sin:re,cos:ce}=Math,y=B(),g=B();let d=window.innerWidth,l=window.innerHeight,M,h,i,u,n,p,b,m;ee(()=>{W(),z(),H(),k(),G()});const t=5,e=[[-t,2*t,t],[-t,0,t],[t,0,t],[t,2*t,t],[t,2*t,-t],[t,0,-t],[-t,2*t,-t],[-t,0,-t]];function E(){return new Float32Array([...e[0],...e[1],...e[2],...e[2],...e[3],...e[0],...e[3],...e[4],...e[2],...e[4],...e[5],...e[2],...e[6],...e[5],...e[4],...e[6],...e[7],...e[5],...e[0],...e[6],...e[1],...e[6],...e[7],...e[1],...e[6],...e[0],...e[3],...e[3],...e[4],...e[6],...e[1],...e[2],...e[5],...e[5],...e[7],...e[1]])}function k(){var r;let o=new F({autoPlace:!1,width:300});o.domElement.style.cssText="position: fixed; top: 0; right: 0;",(r=g.value)==null||r.appendChild(o.domElement);for(let a=0;a<8;a++){const s=o.addFolder(`vertex${a}`);for(let c=0;c<3;c++)s.add(e[a],`${c}`,-20,20,1).name(c===0?"x":c===1?"y":"z").onChange(de=>{m.children.forEach(x=>{x instanceof C&&(x.geometry.setAttribute("position",new L(E(),3)),x.geometry.attributes.position.needsUpdate=!0)})})}}function z(){const o=new I(60,40,1,1),r=new P({color:16777215,side:A});p=new C(o,r),p.receiveShadow=!0,p.rotation.x=-.5*w,p.position.set(0,0,0),i.add(p),b=new O,b.setAttribute("position",new L(E(),3));const a=[new P({opacity:.6,color:7101671,transparent:!0,side:A}),new U({color:15221651,wireframe:!0})];m=oe(b,a),m.children.forEach(function(s){s.castShadow=!0}),i.add(m)}function H(){R(-20,20,-0)}function R(o,r,a){const s=new $(16777215);s.position.set(o,r,a),s.castShadow=!0;const c=new T(s);i.add(c),i.add(s)}function G(){requestAnimationFrame(G),M.update(),n.render(i,u)}function W(){i=new q,u=new N(45,d/l,1,1e3),n=new J({canvas:y.value,antialias:!0}),n.setClearColor(4473924,1),n.setSize(d,l),n.shadowMap.enabled=!0,n.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",D),i.add(new K(1e3)),M=Q(),g.value.append(M.dom),h=new X(u,n.domElement),h.target=new Y(0,0,0),h.object.position.set(-50,20,20),h.update()}function D(){d=window.innerWidth,l=window.innerHeight,u.aspect=d/l,u.updateProjectionMatrix(),n.setSize(d,l)}return(o,r)=>(ne(),te("div",ae,[j("div",{class:"canvasCon",ref_key:"canvasCon",ref:g},[j("canvas",{class:"canvas",ref_key:"canvasDom",ref:y},null,512)],512)]))}});export{pe as default};
