import{G as V,P as m,l as T,c as U,f as _,D as q,d as x,B as F,C as N,e as $,g as J,h as K,O as Q,V as X,S as Y,W as Z,A as ee,b as te}from"./OrbitControls.d879c3bb.js";import{d as ne,g as G,h as oe,c as ae,f as E,o as ie}from"./index.3e71378a.js";const se={class:"viewCon"},ue=ne({__name:"08-cameras-lookat",setup(re){const{random:ce,PI:H,floor:de,ceil:le,min:pe,max:we,sin:L,cos:he}=Math,M=G(),f=G();let s=window.innerWidth,r=window.innerHeight,u,c,n,t,o,d,l;oe(()=>{D(),k(),y(),W(),P()});const w={switchCamera:()=>{},perspective:"Perspective"};function W(){var a;let e=new V({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(a=f.value)==null||a.appendChild(e.domElement),e.add(w,"switchCamera").onChange(()=>{t instanceof m?(t=new T(window.innerWidth/-16,window.innerWidth/16,window.innerHeight/16,window.innerHeight/-16,-200,500),v(),w.perspective="Orthographic"):(t=new m(45,s/r,1,1e3),v(),w.perspective="Perspective"),e.__controllers.forEach(p=>p.updateDisplay())}),e.add(w,"perspective")}function k(){const e=new U(180,180,1,1),a=new _({color:16777215,side:q});d=new x(e,a),d.receiveShadow=!0,d.rotation.x=-.5*H,d.position.set(0,0,0),n.add(d);const p=new F(4,4,4),{width:i,height:h}=e.parameters;for(let g=0;g<i/5;g++)for(let C=0;C<h/5;C++){const z=Math.random()*.75+.25,j=new N(z,0,0),I=new _({color:j}),b=new x(p,I);b.position.set(g*5-i/2+2,2,C*5-h/2+2),n.add(b)}const R=new $(2);l=new x(R,new _({color:16632686})),l.position.set(0,10,0),n.add(l)}function y(){A(-120,50,-0)}function A(e,a,p){const i=new J(16777215);i.position.set(e,a,p),i.castShadow=!0;const h=new K(i);n.add(h),n.add(i)}let S=0;function B(){S+=.02;let e=10+100*L(S);l.position.x=e,c.target=l.position,c.update()}function P(){requestAnimationFrame(P),u.update(),B(),o.render(n,t)}function v(){c=new Q(t,o.domElement),c.target=new X(0,0,0),c.object.position.set(-150,50,150),c.update()}function D(){n=new Y,t=new m(45,s/r,1,1e3),o=new Z({canvas:M.value,antialias:!0}),o.setClearColor(4473924,1),o.setSize(s,r),o.shadowMap.enabled=!0,o.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",O),n.add(new ee(1e3)),u=te(),f.value.append(u.dom),v()}function O(){s=window.innerWidth,r=window.innerHeight,t instanceof m&&(t.aspect=s/r,t.updateProjectionMatrix()),o.setSize(s,r)}return(e,a)=>(ie(),ae("div",se,[E("div",{class:"canvasCon",ref_key:"canvasCon",ref:f},[E("canvas",{class:"canvas",ref_key:"canvasDom",ref:M},null,512)],512)]))}});export{ue as default};
