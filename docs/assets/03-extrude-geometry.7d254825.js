import{G as z,S as G,C as I,P as O,W,A as q,a as A,b as H,O as B,V as L,at as R,au as V,ab as j,ac as v}from"./OrbitControls.9b659d00.js";import{c as D}from"./three.5766a1f7.js";import{d as U,g as b,h as F,c as N,f as C,o as $}from"./index.28f061d6.js";import"./SceneUtils.36f209ee.js";const J={class:"viewCon"},ee=U({__name:"03-extrude-geometry",setup(K){const f=b(),u=b();let r=window.innerWidth,i=window.innerHeight,h,l,s,d,c,t;F(()=>{E(),T(),y(),w()});const n={curveSegments:12,steps:1,depth:12,bevelEnabled:!0,bevelThickness:.02,bevelSize:.1,bevelOffset:0,bevelSegments:3},m={rotateSpeed:.01};function y(){var o;let e=new z({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(o=u.value)==null||o.appendChild(e.domElement),e.add(m,"rotateSpeed",0,.04,.01),e.add(n,"curveSegments",1,24,1).onChange(()=>a()),e.add(n,"steps",1,24,1).onChange(()=>a()),e.add(n,"depth",1,24,1).onChange(()=>a()),e.add(n,"bevelEnabled").onChange(()=>a()),e.add(n,"bevelThickness",0,10,.01).onChange(()=>a()),e.add(n,"bevelSize",0,10,.1).onChange(()=>a()),e.add(n,"bevelOffset",0,10,.1).onChange(()=>a()),e.add(n,"bevelSegments",0,10,1).onChange(()=>a())}let g=0;function S(){t.rotation.x=g+=m.rotateSpeed,t.rotation.y=g+=m.rotateSpeed}function p(){let e=new R(x()(),n);return e.applyMatrix4(new V().makeTranslation(-40,-40,0)),e}function T(){let e=p();t=D(e),t.scale.multiplyScalar(.4),s.add(t)}function a(){t.children[0].geometry.dispose(),t.children[1].geometry.dispose(),t.children[0].geometry=p(),t.children[1].geometry=p()}function x(){let e;return function(){if(e)return e;const o=new j().moveTo(80,40).absarc(40,40,40,0,Math.PI*2,!1),M=new v().moveTo(35,20).absellipse(25,20,10,10,0,Math.PI*2,!0,0),P=new v().moveTo(65,20).absarc(55,20,10,0,Math.PI*2,!0),k=new v().moveTo(20,40).quadraticCurveTo(40,60,60,40).bezierCurveTo(70,45,70,50,60,60).quadraticCurveTo(40,80,20,60).quadraticCurveTo(5,50,20,40);return o.holes.push(M),o.holes.push(P),o.holes.push(k),e=o,e}}function E(){s=new G,s.background=new I(16777215),d=new O(75,r/i,1,1e3),c=new W({canvas:f.value,antialias:!0}),c.setSize(r,i),window.addEventListener("resize",_),s.add(new q(1e3)),s.add(new A(16777215)),h=H(),u.value.append(h.dom),l=new B(d,c.domElement),l.target=new L(0,0,0),l.object.position.set(0,30,50),l.update()}function w(){requestAnimationFrame(w),h.update(),S(),c.render(s,d)}function _(){r=window.innerWidth,i=window.innerHeight,d.aspect=r/i,d.updateProjectionMatrix(),c.setSize(r,i)}return(e,o)=>($(),N("div",J,[C("div",{class:"canvasCon",ref_key:"canvasCon",ref:u},[C("canvas",{class:"canvas",ref_key:"canvasDom",ref:f},null,512)],512)]))}});export{ee as default};
