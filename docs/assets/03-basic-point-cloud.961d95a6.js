import{m as M,G as W,at as H,K as b,ay as R,au as D,S as L,C as T,P as V,W as j,A as F,a as I,b as O,V as U}from"./stats.module.a3b3754b.js";import{O as q}from"./OrbitControls.3858a42c.js";import{d as K,g,h as N,c as $,f as y,o as J}from"./index.ea266fd6.js";const Q={class:"viewCon"},te=K({__name:"03-basic-point-cloud",setup(X){const h=g(),m=g();let s=window.innerWidth,o=window.innerHeight,v,d,a,i,r,u;const c=new M,e=20,t=10,x=[],C=[];N(()=>{z(),k(),E(),_()});function z(){var n;let l=new W({autoPlace:!1,width:300});l.domElement.style.cssText="position: fixed; top: 0; right: 0;",(n=m.value)==null||n.appendChild(l.domElement)}function A(){u.rotation.x+=.01,u.rotation.y+=.01}function E(){const l=new H({size:1,vertexColors:!0});for(let p=0;p<e;p++)for(let w=0;w<e;w++)for(let f=0;f<e;f++){x.push(p*t,w*t,f*t);const P=p/e,S=w/e,B=f/e;C.push(P,S,B)}c.setAttribute("position",new b(x,3)),c.setAttribute("color",new b(C,3));const n=-.5*e*t;c.applyMatrix4(new R().makeTranslation(n,n,n)),c.setDrawRange(0,e**3),u=new D(c,l),a.add(u)}function k(){a=new L,a.background=new T(4473924),i=new V(75,s/o,1,1e3),r=new j({canvas:h.value,antialias:!0}),r.setSize(s,o),window.addEventListener("resize",G),a.add(new F(1e3)),a.add(new I(4210752)),v=O(),m.value.append(v.dom),d=new q(i,r.domElement),d.object.position.set(1,1,1),d.target=new U(t,t,t),d.update()}function _(){requestAnimationFrame(_),v.update(),A(),r.render(a,i)}function G(){s=window.innerWidth,o=window.innerHeight,i.aspect=s/o,i.updateProjectionMatrix(),r.setSize(s,o)}return(l,n)=>(J(),$("div",Q,[y("div",{class:"canvasCon",ref_key:"canvasCon",ref:m},[y("canvas",{class:"canvas",ref_key:"canvasDom",ref:h},null,512)],512)]))}});export{te as default};
