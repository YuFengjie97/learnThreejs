import{G as H,g as C,l as S,e as R,i as _,D as y,m as W,f as D,j as V,k as F,S as I,P as O,W as U,A as $,b as T,V as q}from"./stats.module.1062c650.js";import{O as N}from"./OrbitControls.3104130d.js";import{c as J}from"./SceneUtils.7c052e71.js";import{d as K,g as E,h as Q,c as X,f as G,o as Y}from"./index.6c251f58.js";const Z={class:"viewCon"},pe=K({__name:"05-custom-geometry",setup(ee){const{random:te,PI:L,floor:ne,ceil:oe,min:ae,max:ie,sin:se,cos:re}=Math,M=E(),f=E();let d=window.innerWidth,l=window.innerHeight,h,p,s,u,n,m,v,w;Q(()=>{k(),A(),B(),P(),x()});const t=5,e=[[-t,2*t,t],[-t,0,t],[t,0,t],[t,2*t,t],[t,2*t,-t],[t,0,-t],[-t,2*t,-t],[-t,0,-t]];function b(){return new Float32Array([...e[0],...e[1],...e[2],...e[2],...e[3],...e[0],...e[3],...e[4],...e[2],...e[4],...e[5],...e[2],...e[6],...e[5],...e[4],...e[6],...e[7],...e[5],...e[0],...e[6],...e[1],...e[6],...e[7],...e[1],...e[6],...e[0],...e[3],...e[3],...e[4],...e[6],...e[1],...e[2],...e[5],...e[5],...e[7],...e[1]])}function P(){var r;let o=new H({autoPlace:!1,width:300});o.domElement.style.cssText="position: fixed; top: 0; right: 0;",(r=f.value)==null||r.appendChild(o.domElement);for(let a=0;a<8;a++){const i=o.addFolder(`vertex${a}`);for(let c=0;c<3;c++)i.add(e[a],`${c}`,-20,20,1).name(c===0?"x":c===1?"y":"z").onChange(ce=>{w.children.forEach(g=>{g instanceof C&&(g.geometry.setAttribute("position",new S(b(),3)),g.geometry.attributes.position.needsUpdate=!0)})})}}function A(){const o=new R(60,40,1,1),r=new _({color:16777215,side:y});m=new C(o,r),m.receiveShadow=!0,m.rotation.x=-.5*L,m.position.set(0,0,0),s.add(m),v=new W,v.setAttribute("position",new S(b(),3));const a=[new _({opacity:.6,color:7101671,transparent:!0,side:y}),new D({color:15221651,wireframe:!0})];w=J(v,a),w.children.forEach(function(i){i.castShadow=!0}),s.add(w)}function B(){j(-20,20,-0)}function j(o,r,a){const i=new V(16777215);i.position.set(o,r,a),i.castShadow=!0;const c=new F(i);s.add(c),s.add(i)}function x(){requestAnimationFrame(x),h.update(),n.render(s,u)}function k(){s=new I,u=new O(45,d/l,1,1e3),n=new U({canvas:M.value,antialias:!0}),n.setClearColor(4473924,1),n.setSize(d,l),n.shadowMap.enabled=!0,n.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",z),s.add(new $(1e3)),h=T(),f.value.append(h.dom),p=new N(u,n.domElement),p.target=new q(0,0,0),p.object.position.set(-50,20,20),p.update()}function z(){d=window.innerWidth,l=window.innerHeight,u.aspect=d/l,u.updateProjectionMatrix(),n.setSize(d,l)}return(o,r)=>(Y(),X("div",Z,[G("div",{class:"canvasCon",ref_key:"canvasCon",ref:f},[G("canvas",{class:"canvas",ref_key:"canvasDom",ref:M},null,512)],512)]))}});export{pe as default};
