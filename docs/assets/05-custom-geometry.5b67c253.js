import{G as R,d as C,i as S,c as W,f as _,D as y,j as k,M as D,g as V,h as F,S as I,P as O,W as U,A as $,b as T,O as q,V as N}from"./OrbitControls.9db38112.js";import{c as J}from"./SceneUtils.fcab5cca.js";import{d as K,g as E,h as Q,c as X,f as G,o as Y}from"./index.314a26ca.js";const Z={class:"viewCon"},pe=K({__name:"05-custom-geometry",setup(ee){const{random:te,PI:L,floor:ne,ceil:ae,min:oe,max:se,sin:ie,cos:re}=Math,M=E(),f=E();let d=window.innerWidth,l=window.innerHeight,h,w,i,u,n,p,v,m;Q(()=>{z(),A(),B(),P(),x()});const t=5,e=[[-t,2*t,t],[-t,0,t],[t,0,t],[t,2*t,t],[t,2*t,-t],[t,0,-t],[-t,2*t,-t],[-t,0,-t]];function b(){return new Float32Array([...e[0],...e[1],...e[2],...e[2],...e[3],...e[0],...e[3],...e[4],...e[2],...e[4],...e[5],...e[2],...e[6],...e[5],...e[4],...e[6],...e[7],...e[5],...e[0],...e[6],...e[1],...e[6],...e[7],...e[1],...e[6],...e[0],...e[3],...e[3],...e[4],...e[6],...e[1],...e[2],...e[5],...e[5],...e[7],...e[1]])}function P(){var r;let a=new R({autoPlace:!1,width:300});a.domElement.style.cssText="position: fixed; top: 0; right: 0;",(r=f.value)==null||r.appendChild(a.domElement);for(let o=0;o<8;o++){const s=a.addFolder(`vertex${o}`);for(let c=0;c<3;c++)s.add(e[o],`${c}`,-20,20,1).name(c===0?"x":c===1?"y":"z").onChange(ce=>{m.children.forEach(g=>{g instanceof C&&(g.geometry.setAttribute("position",new S(b(),3)),g.geometry.attributes.position.needsUpdate=!0)})})}}function A(){const a=new W(60,40,1,1),r=new _({color:16777215,side:y});p=new C(a,r),p.receiveShadow=!0,p.rotation.x=-.5*L,p.position.set(0,0,0),i.add(p),v=new k,v.setAttribute("position",new S(b(),3));const o=[new _({opacity:.6,color:7101671,transparent:!0,side:y}),new D({color:15221651,wireframe:!0})];m=J(v,o),m.children.forEach(function(s){s.castShadow=!0}),i.add(m)}function B(){j(-20,20,-0)}function j(a,r,o){const s=new V(16777215);s.position.set(a,r,o),s.castShadow=!0;const c=new F(s);i.add(c),i.add(s)}function x(){requestAnimationFrame(x),h.update(),n.render(i,u)}function z(){i=new I,u=new O(45,d/l,1,1e3),n=new U({canvas:M.value,antialias:!0}),n.setClearColor(4473924,1),n.setSize(d,l),n.shadowMap.enabled=!0,n.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",H),i.add(new $(1e3)),h=T(),f.value.append(h.dom),w=new q(u,n.domElement),w.target=new N(0,0,0),w.object.position.set(-50,20,20),w.update()}function H(){d=window.innerWidth,l=window.innerHeight,u.aspect=d/l,u.updateProjectionMatrix(),n.setSize(d,l)}return(a,r)=>(Y(),X("div",Z,[G("div",{class:"canvasCon",ref_key:"canvasCon",ref:f},[G("canvas",{class:"canvas",ref_key:"canvasDom",ref:M},null,512)],512)]))}});export{pe as default};
