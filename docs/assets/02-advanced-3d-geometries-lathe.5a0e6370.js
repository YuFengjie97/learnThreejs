import{G as z,k as A,e as H,f as N,d as V,ar as B,Y as I,S as R,C as j,P as D,W as O,A as T,a as U,b as q,O as F,V as Y}from"./OrbitControls.9b659d00.js";import{c as $}from"./three.5766a1f7.js";import{d as J,g as M,h as K,c as Q,f as x,o as X}from"./index.28f061d6.js";import"./SceneUtils.36f209ee.js";const Z={class:"viewCon"},me=J({__name:"02-advanced-3d-geometries-lathe",setup(ee){const{random:te,PI:p,floor:ne,ceil:ae,min:oe,max:se,sin:ie,cos:re}=Math,f=M(),u=M();let r=window.innerWidth,d=window.innerHeight,w,m,n,c,h,t;K(()=>{b(),i(),G(),v()});const a={height:5,pointNum:30,segments:12,phiStart:0,phiLength:p*2};function G(){var o;let e=new z({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",(o=u.value)==null||o.appendChild(e.domElement),e.add(a,"height",1,20,1).onChange(()=>i()),e.add(a,"pointNum",1,50,1).onChange(()=>i()),e.add(a,"segments",1,20,1).onChange(()=>i()),e.add(a,"phiStart",0,p*2,.01).onChange(()=>i()),e.add(a,"phiLength",0,p*2,.01).onChange(()=>i())}let g=0;function L(){t.rotation.x=g+=.005,t.rotation.y=g+=.005}function i(){t&&n.remove(t),t=new A,n.add(t);let e=S();e.forEach(C=>{const P=new H(.4),W=new N({color:16711680}),_=new V(P,W);_.position.set(C.x,C.y,0),t.add(_)});const{segments:o,phiStart:l,phiLength:s}=a,y=new B(e,o,l,s),k=$(y);t.add(k)}function S(){let e=[];const{height:o,pointNum:l}=a;for(let s=0;s<l;s++)e.push(new I((Math.sin(s*.2)+Math.cos(s*.3))*o+12,s-l+l/2));return e}function b(){n=new R,n.background=new j(16777215),c=new D(75,r/d,1,1e3),h=new O({canvas:f.value,antialias:!0}),h.setSize(r,d),window.addEventListener("resize",E),n.add(new T(1e3)),n.add(new U(16777215)),w=q(),u.value.append(w.dom),m=new F(c,h.domElement),m.target=new Y(0,0,0),m.object.position.set(0,30,50),m.update()}function v(){requestAnimationFrame(v),w.update(),L(),h.render(n,c)}function E(){r=window.innerWidth,d=window.innerHeight,c.aspect=r/d,c.updateProjectionMatrix(),h.setSize(r,d)}return(e,o)=>(X(),Q("div",Z,[x("div",{class:"canvasCon",ref_key:"canvasCon",ref:u},[x("canvas",{class:"canvas",ref_key:"canvasDom",ref:f},null,512)],512)]))}});export{me as default};
