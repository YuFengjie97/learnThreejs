import{a3 as P,M as E,a4 as y,G as B,S as z,P as G,W as j,C as H,A as W,b as k,O as A,V as D,B as I}from"./OrbitControls.9db38112.js";import{c as O}from"./SceneUtils.fcab5cca.js";import{d as R,g as b,h as V,c as L,f as v,o as T}from"./index.314a26ca.js";const U={class:"viewCon"},te=R({__name:"03-combined-material",setup(q){const{random:c,PI:F,floor:N,ceil:$,min:J,max:K,sin:Q,cos:X}=Math,f=b(),u=b();let s=window.innerWidth,i=window.innerHeight,p,l,d,a,o,M=new P,w=new E({color:623843,transparent:!0,blending:y}),m=[];V(()=>{_(),x(),C()});const n={color:16777215,rotateSpeed:.01,addCube:function(){const e=c()*3+3,t=new I(e,e,e),r=O(t,[M,w]);r.castShadow=!0,r.position.x=20-c()*40,r.position.y=20-c()*40,r.position.z=100-c()*100,m.push(r),d.add(r)},removeCube:function(){const e=m.pop();e&&d.remove(e)}},h={near:1,far:130};function x(){let e=new B({autoPlace:!1,width:300});e.domElement.style.cssText="position: fixed; top: 0; right: 0;",u.value.appendChild(e.domElement);for(let t=0;t<10;t++)n.addCube();e.addColor(n,"color").onChange(t=>{w.color.setHex(t)}),e.add(n,"rotateSpeed",0,1,.01),e.add(n,"addCube").listen(),e.add(n,"removeCube").listen(),e.add(h,"near",0,50,1).onChange(t=>{a.near=t,a.updateProjectionMatrix()}),e.add(h,"far",50,200,1).onChange(t=>{a.far=t,a.updateProjectionMatrix()})}function g(){m.forEach(e=>{e.rotation.x+=n.rotateSpeed,e.rotation.y+=n.rotateSpeed,e.rotation.z+=n.rotateSpeed})}function _(){d=new z,a=new G(75,s/i,10,130),o=new j({canvas:f.value,antialias:!0}),o.setClearColor(new H(0)),o.setSize(s,i),window.addEventListener("resize",S),d.add(new W(1e3)),p=k(),u.value.append(p.dom),l=new A(a,o.domElement),l.target=new D(0,0,0),l.object.position.set(0,3,100),l.update()}function C(){requestAnimationFrame(C),p.update(),g(),o.render(d,a)}function S(){s=window.innerWidth,i=window.innerHeight,a.aspect=s/i,a.updateProjectionMatrix(),o.setSize(s,i)}return(e,t)=>(T(),L("div",U,[v("div",{class:"canvasCon",ref_key:"canvasCon",ref:u},[v("canvas",{class:"canvas",ref_key:"canvasDom",ref:f},null,512)],512)]))}});export{te as default};
